# Stochastic Programming(SP) -"Record"-


PoLab

2020.06.25


SP簡介 (Background)


　　隨機規劃(Stochastic Programming，縮寫SP)是處理數據帶有隨機性的一類數學規劃，它與確定性數學規劃最大的不同在於其計數中引進了隨機變數，即可能存在某一機率分佈，這使得隨機規劃比起確定性數學規劃更適合於實際問題。其在廣泛應用上，包含了：製造、運輸、電訊、衛生保健、金融等之不同領域。

　　第一種SP，是美國經濟學家丹澤於1955年提出，康托羅維奇在這方面的貢獻，不在於新方法本身，而在於把它應用於制定最優計劃，是廣泛使用的期望值模型，即在期望約束條件下，使得期望收益達到最大或期望損失達到最小的優化方法。

　　第二種SP，由查納斯（A.Charnes）和庫伯（W.W.Cooper）於1959年提出的機會約束規劃，在一定的概率意義下達到最優的理論。

　　第三種SP，為劉寶碇教授於1997年提出的相關機會規劃，是一種使事件的機會在隨機環境下達到最優的理論。它與期望值模型和機會約束規劃一起構成了隨機規劃的三種分支。

Statistical Decision Theory

　　統計決策理論是由統計學家A.瓦爾德在1950年提出的一種數理統計學的理論，此理論把數理統計問題看成是統計學家與大自然之間的博弈；用這種觀點把各種各樣的統計問題統一起來，以對策論觀點來研究。在此以前，人們對數理統計，主要是著眼於其推斷的功能，亦即從觀測數據出發對總體作出某種論斷。至於由此應該採取什麼決策或行動，會產生什麼後果，則被認為不屬於統計的範疇。瓦爾德的理論則把後面這一部分內容也納入統計的範圍之內，這在數理統計學上是一項革新，有較大的實際意義。

　　隨機規劃基本形式如下；在未知參數w下，其樣本資料X (variable)來自總體分佈F

　　Max E[r(x,w)|F] = Max ∫r(x,w)dF(w)



　　而決策分析常用方法，不同狀況類型：

　　(1)	隨機性情況下：也稱風險性情況，即由一個方案可能引起幾個結局中的一個，但各種結局以一定的概率發生。通常在能用某種估算概率的方法時，就可使用隨機性決策，例如決策樹的方法。
  
　　(2) 不確定性情況下：一個方案可能引起幾個結局中的某一個結局,但各種結局的發生概率未知。這時可使用不確定型決策，例如拉普拉斯準則、樂觀準則、悲觀準則、遺憾準則等來取捨方案。
  
　　(3)	多目標情況下：由一個方案同時引起多個結局，它們分別屬於不同屬性或所追求的不同目標。這時一般採用多目標決策方法。例如化多為少的方法、分層序列法、直接找所有非劣解的方法等。


Optimal Stochastic Control (最優隨機控制)

　　隨機控制模型通常類似隨機規劃模型。差異主要是在於問題的維度，強調隨機控制的控制規則之重視以及對隨機控制的約束性假設之限制（隨機規劃通常具有更高的維度）。

Stochastic Linear Programming (SLP)

　　因線性規劃形式如下：


　　Min cTx

　　s.t  Ax ≥ b

　 　　　Tx ≥ r

　　　　x ≥ 0

where , 

x is the decision variable vector

c is the cost vector

A is the constraint matrix

b is the RHS vector

T is the technology matrix

r is the RHS vector


故隨機規劃為，當假設(T，r)為隨機變數，即(T，r)真實值為未知，且滿足一已知離散型機率分佈狀況下稱之．

情境分析解如下目標式：

Min { cTxs : Axs ≥ b , Tsxs ≥ rs}

Two-stage recourse model

圖2為隨機規劃法基本架構，以不確定事件(ζ)發生之時間點為界線，將決策集變數區分為兩階段，在事件之前決策變數不會受到隨機事件情境的直接影響，即實驗前須做出決定，稱為第一階段決策；而在事件之後的決策變數會依實現的情境而決定其值，即在實驗後可做許多決定，稱為第二階段決策．


令第一階段決策由向量x表示，第二階段決策由向量y(ω)或y(ω,x)表示。
因此，兩階段定義之事件與決策的序列如下  

　　x -> ζ(w) -> y(w,x)

兩階段規劃模型 with Fixed Recourse：


Min z = cTx + Eζ [min q(w)Ty(w)]
s.t Ax = b
T(w)x +Wy(w)=h(w)
x ≥ 0 , y(w) ≥ 0

在隨機事件 w 上，目標函數包含確定性項cTx  和第二階段目標 q(w)Ty(w)的期望項；

採用確定性等效規劃的概念，

令第二階段價值函數：Q(x,ζ(w))=min{ q(w)Ty | Wy = h(w) – T(w)x , y ≥ 0 }

並定義第二階段價值函數的期望值：L(x) = Eζ Q(x,ζ(w))

及確定性等效規劃（DEP）

Min z = cTx + L(x)

s.t Ax = b

x ≥ 0

隨機規劃表述與確定性表述的主要區別在於第二階段之價值函數。若給出該函數，則隨機規劃為普通非線性程序規劃。

Recourse problems：

兩階段整數過程公式類似於一般線性情況。它僅要求第一階段或第二階段中的某些變量為整數。實際在許多情況中，變量限制條件必須為二進制，即只能採用零或一的值。

Min z = cTx +E min {q(w)Ty(w) | Wy(w) = h(w) – T(w)x, y(w) ∝ Y a. s.}

再次定義確定性等效規劃形式如

Min z = cTx + L(x)
s.t. Ax = b

Solution method of SP：

　　第一為轉化法，即將隨機規劃轉化成各自的確定性等價類，然後利用已有的確定性規劃的求解方法解之；另一為近似方法，利用隨機模擬技術，通過一定的遺傳演算法程式，得到隨機規劃問題的近似最優解和目標函數的近似最優值。

(續)


參考來源：

(1) [John_R._Birge,_François_Louveaux]_Introduction to Stochastic Programming_2nd

(2) Course：ORA_08_SP_2020

(3) Wikipedia information

